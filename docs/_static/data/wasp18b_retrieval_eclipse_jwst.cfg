[pyrat]

# Pyrat Bay run mode: [tli atmosphere spectrum opacity retrieval radeq]
runmode = retrieval

# Output log and spectrum file names:
logfile = ret_wasp18b_all/WASP18b_eclipse_all.log

# Verbosity level [1--3]:
verb = 2

# Observing geometry, select between: [transit eclipse emission]
rt_path = eclipse

# The observations
dunits = ppm
obsfile = inputs/obs_wasp18b_eclipse_all.dat

# Wavelength sampling
wl_low  = 0.35 um
wl_high = 10.5 um


# System parameters
rstar = 1.23 rsun
mstar = 1.27 msun
tstar = 6435.0

rplanet = 1.165 rjup
mplanet = 10.38 mjup
smaxis = 0.020 au
refpressure = 0.1 bar

# Stellar model
starspec = inputs/phoenix_F5V_6500K_WASP18.dat


# Atmospheric model:
nlayers = 81
ptop = 1e-9 bar
pbottom = 1e2 bar

# Temperature-profile model [isothermal guillot madhu]
tmodel = madhu
#tpars = -3.0 -1.25 1.75 1.0 0.3 2850.0

# Atmospheric composition:
chemistry = equilibrium
species =
    H  He  C  O  N  Na  K  S  Si  Fe  Ti  V
    H2  H2O  CH4  CO  CO2  HCN  NH3  N2  OH  C2H2  C2H4
    S2  SH  SiO  H2S  SO2  SO  TiO  VO  TiO2  VO2
    e-  H-  H+  H2+  He+  Na-  Na+  K-  K+  Fe+  Ti+  V+

# Radius profile model (hydrostatic equilibrium)
radmodel = hydro_m


# Line-sampled cross sections
sampled_cross_sec =
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_H2O_exomol_pokazatel.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_CO_hitemp_2019.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_CO2_ames_ai3000k.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_TiO_exomol_toto.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_VO_exomol_hyvo.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_HCN_exomol_harris_larner.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_C2H2_exomol_acety.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_NH3_exomol_coyute.npz
    inputs/cross_section_0.15-33.0um_0200-5000K_R025K_CH4_exomol_mm.npz

# Continuum cross sections
continuum_cross_sec =
    {ROOT}/pyratbay/data/CIA/CIA_Borysow_H2H2_0060-7000K_0.6-500um.dat
    {ROOT}/pyratbay/data/CIA/CIA_Borysow_H2He_0050-7000K_0.5-031um.dat

# Alkali opacity, select from: [sodium_vdw potassium_vdw]
alkali =
    sodium_vdw
    potassium_vdw

# Rayleigh models, select from: [rayleigh_H rayleigh_He rayleigh_H2]
rayleigh =
    rayleigh_H2
    rayleigh_H
    rayleigh_He

# H- continuum opacity
h_ion = h_ion_john1988

# VMR parameters (equilibrium-chemistry)
vmr_vars =
    [M/H]
    [C/H]
    [O/H]

retrieval_params =
# Param_name    value   pmin    pmax   step   prior  prior_sigma
    log_p1      -3.0    -9.0     2.0   0.3
    log_p2      -1.25   -9.0     2.0   0.3
    log_p3       1.75   -9.0     2.0   0.3
    a1           1.00    0.2     2.0   0.02
    a2           0.30    0.2     2.0   0.02
    T0         2850.0  500.0  4000.0   30.0
    [M/H]       1.50    -2.0     2.5   0.1
    [C/H]       0.5     -2.0     2.5   0.1
    [O/H]       0.0     -2.0     2.5   0.1

# Retrieval setup
sampler = multinest
nlive = 1500
resume = True
theme = orange
data_color = black
post_processing = True

# Retrieval temperature boundaries:
tlow  =  500
thigh = 4000

# If set, plot wavelength axes in log-scale, using these tick labels:
wl_ticks = 0.5 0.7 1.0 1.4 2.0 3.0 5.0 8.0
